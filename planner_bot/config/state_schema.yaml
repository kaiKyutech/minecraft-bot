# GOAP状態変数の定義
# actions.yamlの前提条件・効果で使用可能な変数を全て定義

# === インベントリ関連 ===
inventory_states:
  # === 動的インベントリ（全アイテムを自動追跡） ===
  inventory:
    type: object
    default: {}
    description: "インベントリ内の全アイテムとその個数を自動追跡（例: {oak_log: 5, iron_ingot: 3}）"
    dynamic: true
    source: "bot.inventory.counts"

  inventory_space:
    type: boolean
    default: true
    description: "インベントリに空きがある"

  # === 動的カテゴリ（inventory.category.XXX で参照） ===
  # 以下のカテゴリは block_categories.yaml の item_categories で定義:
  # - inventory.category.log (count) - 原木の合計数
  # - inventory.category.plank (count) - 板の合計数
  # - inventory.category.pickaxe (boolean) - 任意のピッケルを所持
  # - inventory.category.axe (boolean) - 任意の斧を所持
  # - inventory.category.stone_or_better_pickaxe (boolean) - 石以上のピッケル
  # - inventory.category.iron_or_better_pickaxe (boolean) - 鉄以上のピッケル
  # - inventory.category.diamond_or_better_pickaxe (boolean) - ダイヤ以上のピッケル

  # === 個別アイテムは inventory.xxx で参照 ===
  # inventory.crafting_table - 所持しているクラフト台の数
  # inventory.furnace - 所持しているかまどの数
  # inventory.wooden_pickaxe - 木のピッケルの数
  # 等々...

# === 環境・リソース近接関連 ===
environment_states:
  # 特殊な検出が必要なブロック（ドット記法では代用できないもの）
  nearby_workbench:
    type: boolean
    default: false
    description: "使用可能距離（5ブロック以内）に作業台が存在する"
    detection_method: "findBlock"
    block_name: "crafting_table"
    max_distance: 5

  visible_workbench:
    type: boolean
    default: false
    description: "視認可能距離（100ブロック以内）に作業台が存在する"
    detection_method: "findBlock"
    block_name: "crafting_table"
    max_distance: 100

  nearby_furnace:
    type: boolean
    default: false
    description: "使用可能距離（5ブロック以内）にかまどが存在する"
    detection_method: "findBlock"
    block_name: "furnace"
    max_distance: 5

  visible_furnace:
    type: boolean
    default: false
    description: "視認可能距離（100ブロック以内）にかまどが存在する"
    detection_method: "findBlock"
    block_name: "furnace"
    max_distance: 100

# === 装備関連 ===
equipment_states:
  # === 動的装備（全アイテムを自動追跡） ===
  equipment:
    type: object
    default: {}
    description: "装備中のアイテムを自動追跡（例: {diamond_helmet: true, iron_sword: true}）"
    dynamic: true
    source: "bot.inventory.slots[5-8] + bot.heldItem"

  # === 個別装備は equipment.xxx で参照 ===
  # equipment.diamond_helmet - ダイヤのヘルメットを装備している
  # equipment.iron_chestplate - 鉄のチェストプレートを装備している
  # equipment.diamond_sword - ダイヤの剣を手に持っている
  # 等々...

# === 時間・環境条件 ===
world_states:
  is_day:
    type: boolean
    default: true
    description: "昼間である"
