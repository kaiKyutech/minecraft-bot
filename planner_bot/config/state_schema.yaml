# GOAP状態変数の定義
# actions.yamlの前提条件・効果で使用可能な変数を全て定義

# === インベントリ関連 ===
inventory_states:
  inventory_space:
    type: boolean
    default: true
    description: "インベントリに空きがある"

  has_log:
    type: number
    default: 0
    description: "所持している原木の合計数（oak_log, birch_log等の合計）"

  has_plank:
    type: number
    default: 0
    description: "所持している板の合計数（oak_planks, birch_planks等の合計）"

  has_stick:
    type: number
    default: 0
    description: "所持している棒の数"

  has_cobblestone:
    type: number
    default: 0
    description: "所持している丸石の数"

  has_workbench:
    type: number
    default: 0
    description: "所持しているクラフト台の数"

  has_wooden_pickaxe:
    type: number
    default: 0
    description: "所持している木のツルハシの数"

  has_wooden_axe:
    type: number
    default: 0
    description: "所持している木の斧の数"

  has_wooden_sword:
    type: number
    default: 0
    description: "所持している木の剣の数"

  has_wooden_shovel:
    type: number
    default: 0
    description: "所持している木のシャベルの数"

  has_wooden_hoe:
    type: number
    default: 0
    description: "所持している木のクワの数"

  has_stone_pickaxe:
    type: number
    default: 0
    description: "所持している石のツルハシの数"

  has_stone_axe:
    type: number
    default: 0
    description: "所持している石の斧の数"

  has_stone_sword:
    type: number
    default: 0
    description: "所持している石の剣の数"

  has_stone_shovel:
    type: number
    default: 0
    description: "所持している石のシャベルの数"

  has_stone_hoe:
    type: number
    default: 0
    description: "所持している石のクワの数"

  # === ツール所持の複合判定 ===
  has_any_pickaxe:
    type: boolean
    default: false
    description: "任意のピッケル（木・石・鉄・ダイヤ等）を所持している"
    computed: true
    depends_on: ["has_wooden_pickaxe", "has_stone_pickaxe"]

  has_any_axe:
    type: boolean
    default: false
    description: "任意の斧（木・石・鉄・ダイヤ等）を所持している"
    computed: true
    depends_on: ["has_wooden_axe", "has_stone_axe"]

# === 環境・リソース近接関連 ===
environment_states:
  # カテゴリベース近接状態
  nearby_log:
    type: boolean
    default: false
    description: "近くに任意の種類の原木が存在する"
    detection_method: "findBlockCategory"
    category: "log"
    max_distance: 100

  nearby_basic_stone:
    type: boolean
    default: false
    description: "近くに基本的な石が存在する"
    detection_method: "findBlockCategory"
    category: "basic_stone"
    max_distance: 100

  # 個別指定も残しておく（特定の種類が必要な場合）
  nearby_oak_log:
    type: boolean
    default: false
    description: "近くにオーク原木が存在する"
    detection_method: "findBlock"
    block_name: "oak_log"
    max_distance: 100

  nearby_stone:
    type: boolean
    default: false
    description: "近くに石が存在する"
    detection_method: "findBlock"
    block_name: "stone"
    max_distance: 100

  nearby_workbench:
    type: boolean
    default: false
    description: "使用可能距離（5ブロック以内）に作業台が存在する"
    detection_method: "findBlock"
    block_name: "crafting_table"
    max_distance: 5

  visible_workbench:
    type: boolean
    default: false
    description: "視認可能距離（100ブロック以内）に作業台が存在する"
    detection_method: "findBlock"
    block_name: "crafting_table"
    max_distance: 100

# === 時間・環境条件 ===
world_states:
  is_day:
    type: boolean
    default: true
    description: "昼間である"