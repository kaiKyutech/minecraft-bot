# 採掘関連アクション
actions:
  # === 木の伐採 ===
  # 素手で木を伐る（非効率）
  - name: gather_logs_barehand_x1
    preconditions:
      inventory_space: true
      nearby.category.log: ">= 1"
    effects:
      has_log: "+1"
    cost: 10
    skill: gather
    params:
      itemName: log
      count: 1

  - name: gather_logs_barehand_x3
    preconditions:
      inventory_space: true
      nearby.category.log: ">= 3"
    effects:
      has_log: "+3"
    cost: 30
    skill: gather
    params:
      itemName: log
      count: 3

  - name: gather_logs_barehand_x8
    preconditions:
      inventory_space: true
      nearby.category.log: ">= 8"
    effects:
      has_log: "+8"
    cost: 80
    skill: gather
    params:
      itemName: log
      count: 8

  # 斧で木を伐る（効率的）
  - name: gather_logs_with_axe_x1
    preconditions:
      inventory_space: true
      nearby.category.log: ">= 1"
      has_any_axe: true
    effects:
      has_log: "+1"
    cost: 1
    skill: gather
    params:
      itemName: log
      count: 1

  - name: gather_logs_with_axe_x3
    preconditions:
      inventory_space: true
      nearby.category.log: ">= 3"
      has_any_axe: true
    effects:
      has_log: "+3"
    cost: 3
    skill: gather
    params:
      itemName: log
      count: 3

  - name: gather_logs_with_axe_x8
    preconditions:
      inventory_space: true
      nearby.category.log: ">= 8"
      has_any_axe: true
    effects:
      has_log: "+8"
    cost: 8
    skill: gather
    params:
      itemName: log
      count: 8

  # === 石の採掘 ===
  # 石の採掘には木のピッケル以上が必須
  - name: gather_basic_stone_with_pickaxe_x1
    preconditions:
      inventory_space: true
      nearby.category.basic_stone: ">= 1"
      has_any_pickaxe: true
    effects:
      inventory.cobblestone: "+1"
    cost: 1
    skill: gather
    params:
      itemName: basic_stone
      count: 1

  - name: gather_basic_stone_with_pickaxe_x3
    preconditions:
      inventory_space: true
      nearby.category.basic_stone: ">= 3"
      has_any_pickaxe: true
    effects:
      inventory.cobblestone: "+3"
    cost: 3
    skill: gather
    params:
      itemName: basic_stone
      count: 3

  - name: gather_basic_stone_with_pickaxe_x8
    preconditions:
      inventory_space: true
      nearby.category.basic_stone: ">= 8"
      has_any_pickaxe: true
    effects:
      inventory.cobblestone: "+8"
    cost: 8
    skill: gather
    params:
      itemName: basic_stone
      count: 8

  # === 鉄鉱石の採掘 ===
  # 鉄鉱石は石以上のピッケルが必要（1.17以降はraw_ironがドロップ）
  - name: gather_iron_ore_with_stone_pickaxe_x1
    preconditions:
      inventory_space: true
      nearby.category.iron_ore: ">= 1"
      has_stone_or_better_pickaxe: true
    effects:
      inventory.raw_iron: "+1"
    cost: 8
    skill: gather
    params:
      itemName: iron_ore
      count: 1

  - name: gather_iron_ore_with_stone_pickaxe_x3
    preconditions:
      inventory_space: true
      nearby.category.iron_ore: ">= 3"
      has_stone_or_better_pickaxe: true
    effects:
      inventory.raw_iron: "+3"
    cost: 24
    skill: gather
    params:
      itemName: iron_ore
      count: 3

  - name: gather_iron_ore_with_stone_pickaxe_x8
    preconditions:
      inventory_space: true
      nearby.category.iron_ore: ">= 8"
      has_stone_or_better_pickaxe: true
    effects:
      inventory.raw_iron: "+8"
    cost: 64
    skill: gather
    params:
      itemName: iron_ore
      count: 8

  # === 石炭鉱石の採掘 ===
  # 石炭は木のピッケル以上で採掘可能
  - name: gather_coal_ore_with_pickaxe
    preconditions:
      inventory_space: true
      nearby.category.coal_ore: ">= 1"
      has_any_pickaxe: true
    effects:
      inventory.coal: "+1"
    cost: 5
    skill: gather
    params:
      itemName: coal_ore
      count: 1

  # === ダイヤモンド鉱石の採掘 ===
  # ダイヤモンドは鉄以上のピッケルが必要
  - name: gather_diamond_ore_with_iron_pickaxe
    preconditions:
      inventory_space: true
      nearby.diamond_ore: ">=1"
      has_iron_or_better_pickaxe: true
    effects:
      inventory.diamond: "+1"
    cost: 15
    skill: gather
    params:
      itemName: diamond_ore
      count: 1
